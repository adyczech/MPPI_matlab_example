% clc, clear, close all

dt = 0.1;
t = 0:dt:20;

init_state = [0, 0, 0];

% action1 = [-2.3174   -2.0379   -0.6963   -0.8499   -1.4631    2.7480   -0.4026    1.6785    0.0918   -0.3714   -1.6146    1.1327    0.3342   -0.5417   -0.0250   -0.5136   -0.7581   -1.1364    0.2827   -0.0151;
%     0.5000    0.4189   -0.2409    0.5000   -0.4042   -0.1996   -0.2966   -0.2169    0.1561    0.4331    0.2276   -0.1772   -0.3709   -0.5000   -0.3039   -0.2775    0.2969   -0.0738   -0.0554   -0.3198];
% action2 = [0.8422    0.7932   -0.1542    1.0704   -0.0891   -0.4785    1.5512   -1.2255    0.5338   -0.5630    0.3505    0.3681    2.0437   -1.0906   -1.4347    1.5975   -2.2414   -1.4126   -0.0164    0.6327;
%    -0.3373    0.2147    0.2827    0.5000   -0.5000   -0.2512   -0.3404    0.5000   -0.3955    0.3139    0.0395   -0.2001   -0.3165    0.2601    0.0637    0.0351    0.1328   -0.5000    0.0862   -0.5000];
action1 = [1.8946;
    0.3489];

%% Init
car_real = VehicleModel(init_state);

pos_x = [];
pos_y = [];

state = init_state;



for i = 1:size(action1,2)
    state = car_real.step(action1(:,i), dt, state);
    pos_x(end+1) = state(1);
    pos_y(end+1) = state(2);
end

pos_x
pos_y

figure
plot(pos_x,pos_y)
% plot(t,u)